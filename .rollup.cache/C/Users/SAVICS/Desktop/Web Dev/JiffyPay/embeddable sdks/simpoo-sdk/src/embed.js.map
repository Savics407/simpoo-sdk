{"version":3,"file":"embed.js","sourceRoot":"","sources":["embed.tsx"],"names":[],"mappings":";AAAA,OAAO,QAAQ,MAAM,kBAAkB,CAAC;AACxC,OAAO,EAAE,cAAc,EAAE,MAAM,0BAA0B,CAAC;AAC1D,OAAO,EAAE,cAAc,EAAE,MAAM,+CAA+C,CAAC;AAC/E,OAAO,uBAAuB,CAAC;AAE/B,MAAM,OAAO,GAAG,2DAA2D,CAAC;AAE5E,SAAS,YAAY;IACnB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,cAAc,OAAO,IAAI,CAAC,EAAE,CAAC;QACvD,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,GAAG,YAAY,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;QACpB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;AACH,CAAC;AAED,IAAI,SAAS,GAAwB,EAAE,CAAC;AAExC;;;;;GAKG;AACH,gBAAgB;AAChB,MAAM,UAAU,IAAI,CAAC,MAA0B;IAC7C,SAAS,GAAG,MAAM,CAAC;AACrB,CAAC;AAED,MAAM,cAAc,GAAkC;IACpD,SAAS,EAAE,cAAc;CAC1B,CAAC;AACF;;;;;;GAMG;AAEH,wBAAwB;AACxB,MAAM,UAAU,YAAY,CAAC,UAAkB,EAAE,QAAgB;IAC/D,YAAY,EAAE,CAAC,CAAC,yBAAyB;IAEzC,MAAM,SAAS,GAAG,cAAc,CAAC,UAAU,CAAC,CAAC;IAC7C,IAAI,CAAC,SAAS,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,sBAAsB,UAAU,cAAc,CAAC,CAAC;QAC9D,OAAO;IACT,CAAC;IAED,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACnD,IAAI,CAAC,SAAS;QAAE,MAAM,IAAI,KAAK,CAAC,cAAc,QAAQ,cAAc,CAAC,CAAC;IAEtE,MAAM,IAAI,GAAG,QAAQ,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;IAC5C,IAAI,CAAC,MAAM,CACT,KAAC,cAAc,IAAC,MAAM,EAAE,SAAS,CAAC,MAAM,IAAI,EAAE,YAC5C,KAAC,SAAS,KAAG,GACE,CAClB,CAAC;AACJ,CAAC;AAED,kBAAkB;AAClB,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE,CAAC;IACjC,MAAc,CAAC,SAAS,GAAG,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;AACrD,CAAC","sourcesContent":["import ReactDOM from \"react-dom/client\";\r\nimport { SimpooProvider } from \"./context/SimpooProvider\";\r\nimport { InventoryTable } from \"./components/widgets/inventory/InventoryTable\";\r\nimport \"./styles/tailwind.css\";\r\n\r\nconst CSS_URL = \"https://unpkg.com/@simpoobusiness/sdk/dist/simpoo-sdk.css\";\r\n\r\nfunction injectStyles() {\r\n  if (!document.querySelector(`link[href=\"${CSS_URL}\"]`)) {\r\n    const link = document.createElement(\"link\");\r\n    link.rel = \"stylesheet\";\r\n    link.href = CSS_URL;\r\n    document.head.appendChild(link);\r\n  }\r\n}\r\n\r\nlet sdkConfig: { apiKey?: string } = {};\r\n\r\n/**\r\n * Initializes the Simpoo SDK with your configuration.\r\n * @param config - Object containing API key and other options.\r\n * @example\r\n * SimpooSDK.init({ apiKey: \"12345\" });\r\n */\r\n//initialize SDK\r\nexport function init(config: { apiKey: string }) {\r\n  sdkConfig = config;\r\n}\r\n\r\nconst widgetRegistry: Record<string, React.FC<any>> = {\r\n  inventory: InventoryTable,\r\n};\r\n/**\r\n * Renders the Inventory widget inside a container.\r\n * @param widgetName - name for the inventory widget.\r\n * @param selector - CSS selector for the container element.\r\n * @example\r\n * SimpooSDK.renderWidget(\"inventory\", \"#inventory-widget\");\r\n */\r\n\r\n//Render inventory table\r\nexport function renderWidget(widgetName: string, selector: string) {\r\n  injectStyles(); // Ensure CSS is present.\r\n\r\n  const Component = widgetRegistry[widgetName];\r\n  if (!Component) {\r\n    console.error(`SimpooSDK: Widget \"${widgetName}\" not found.`);\r\n    return;\r\n  }\r\n\r\n  const container = document.querySelector(selector);\r\n  if (!container) throw new Error(`Container \"${selector}\" not found!`);\r\n\r\n  const root = ReactDOM.createRoot(container);\r\n  root.render(\r\n    <SimpooProvider apiKey={sdkConfig.apiKey || \"\"}>\r\n      <Component />\r\n    </SimpooProvider>\r\n  );\r\n}\r\n\r\n// Expose globally\r\nif (typeof window !== \"undefined\") {\r\n  (window as any).SimpooSDK = { init, renderWidget };\r\n}\r\n"]}